# وضعیت نرم‌افزارهای Delphi در ویندوز آینده (ویندوز ۱۲ و پس از آن)

## مقدمه
با توجه به سیاست‌های مایکروسافت برای نسل بعدی ویندوز (به‌ویژه تمرکز بر دستگاه‌های **Copilot+ PC** مبتنی بر پردازنده‌های **ARM64** مانند Snapdragon X Elite)، سؤال مهمی که برای توسعه‌دهندگان ابزارهایی مانند **Delphi** پیش می‌آید این است که آیا نرم‌افزارهای نوشته‌شده با این ابزارها همچنان به‌خوبی اجرا خواهند شد یا خیر.

## مفهوم Native در ویندوز
- **Native**: نرم‌افزاری که مستقیماً برای معماری پردازنده مقصد (مثل ARM64) کامپایل شده و کد آن به **زبان ماشین (machine code)** همان پردازنده تبدیل شده است.
- مزایای Native:
  - عملکرد بهینه‌تر
  - مصرف باتری کمتر
  - استفاده بهتر از قابلیت‌های سخت‌افزاری (مانند NPU برای ویژگی‌های هوش مصنوعی)
- **غیر-Native (Emulated)**: برنامه‌های x86/x64 که روی دستگاه ARM64 از طریق لایه شبیه‌سازی (emulation) ویندوز اجرا می‌شوند.

## سیاست مایکروسافت برای ویندوز ۱۱ و ویندوز ۱۲
- مایکروسافت **اجباری** برای Native بودن اپلیکیشن‌های معمولی (user-mode) وضع نکرده است.
- لایه emulation به نام **Prism** در ویندوز ۱۱ عملکرد بسیار خوبی ارائه می‌دهد و اکثر برنامه‌های x86/x64 را با سرعت قابل قبول اجرا می‌کند.
- برای ویندوز ۱۲ (که هنوز به‌طور رسمی معرفی نشده و احتمالاً اواخر ۲۰۲۵ یا ۲۰۲۶ منتشر می‌شود):
  - تمرکز اصلی روی ویژگی‌های هوش مصنوعی و نیاز به NPU است.
  - emulation همچنان حفظ خواهد شد تا سازگاری backward compatibility حفظ شود.
  - هیچ منبع رسمی یا شایعه معتبری مبنی بر حذف emulation یا اجبار به Native بودن اپ‌های معمولی وجود ندارد.
- نتیجه: توسعه‌دهندگان **تشویق** به ساخت نسخه Native می‌شوند، اما **اجبار** وجود ندارد.

## وضعیت Delphi و پشتیبانی از ARM64
- تا تاریخ **۱۴ دسامبر ۲۰۲۵**، **Delphi (RAD Studio از Embarcadero)** امکان کامپایل مستقیم Native به **Windows on ARM64** را ندارد.
- پلتفرم‌های پشتیبانی‌شده فعلی برای ARM64 در Delphi:
  - macOS ARM64 (Apple Silicon) → کاملاً Native
  - iOS ARM64 → کاملاً Native
  - Android ARM64 → پشتیبانی‌شده
- **Windows on ARM64**: پشتیبانی رسمی وجود ندارد.
  - اپلیکیشن‌های Delphi (معمولاً Win32 یا Win64) روی دستگاه‌های ARM ویندوزی از طریق لایه Prism مایکروسافت اجرا می‌شوند.
  - عملکرد گزارش‌شده توسط کاربران: قابل قبول و مناسب برای اکثر موارد.
- درخواست رسمی کاربران در Quality Portal امبارکادرو:
  - RSP-38298: "Native ARM64 compiler for Windows on ARM"
  - این درخواست هنوز پیاده‌سازی نشده و در roadmap رسمی ۲۰۲۴-۲۰۲۵ ذکر نشده است.

## مقایسه انواع اجرا روی Windows on ARM

| نوع اجرا          | توضیح                                                                 | عملکرد روی دستگاه‌های ARM                                                                 |
|-------------------|-----------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
| **Native ARM64**  | کامپایل مستقیم برای ARM64                                            | بهترین (سرعت بالا، مصرف باتری کم، استفاده بهینه از NPU)                                  |
| **Emulated (x86/x64)** | اجرا از طریق لایه Prism مایکروسافت                                 | خوب (کمی کندتر از Native، مصرف باتری بیشتر)                                              |
| **Managed (.NET)** | کد IL که در زمان اجرا JIT می‌شود                                      | نزدیک به Native (به‌ویژه در .NET 8 و بالاتر)                                               |

## نتیجه‌گیری
- نرم‌افزارهای نوشته‌شده با Delphi همچنان روی ویندوز آینده (حتی روی دستگاه‌های ARM) **اجرا خواهند شد** (از طریق emulation).
- عدم وجود نسخه Native به معنای **عدم اجرا** نیست، بلکه فقط به معنای عملکرد کمی پایین‌تر نسبت به حالت ایده‌آل است.
- اگر هدف شما حداکثر عملکرد روی دستگاه‌های Copilot+ PC است، فعلاً باید منتظر اضافه شدن پشتیبانی Native ARM64 توسط امبارکادرو بمانید یا گزینه‌های دیگری مانند C++، Rust یا .NET را بررسی کنید.
- برای دستگاه‌های سنتی x86/x64 (اینتل/AMD)، هیچ تغییری احساس نخواهید کرد.

**تاریخ تهیه سند:** ۱۴ دسامبر ۲۰۲۵  
**منبع:** اطلاعات رسمی مایکروسافت، مستندات Embarcadero، گزارش‌های کاربران و فروم‌های توسعه‌دهندگان

---
